.gitignore

ROOT = $(TUP_CWD)
CC = @(CC)
LD = @(LD)
AR = @(AR)
AS = @(AS)

CFLAGS += -Wall -Werror -Os @(CFLAGS)
LDFLAGS += @(LDFLAGS)
INCLUDES += -I$(ROOT)/include @(INCLUDES)

!cc = |> ^ cc %f^ $(CC) $(CFLAGS) $(CFLAGS_%f) $(INCLUDES) -c %f -o %o |> %B.o

!as = |> ^ as %f^ $(AS) %f -o %o |> %B.o

!ar = |> ^o ar %f^ $(AR) crs %o %f |>

!ld = |> ^o ld %f^ $(LD) $(LDFLAGS) $(LDFLAGS_%f) -o %o %f $(LD_STATIC_LIBS) |>

!cp = |> ^ cp %f -> %o^ cp %f %o |>
